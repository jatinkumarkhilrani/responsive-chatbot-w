#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Run comprehensive test suite before commit
echo "ğŸ” Running pre-commit checks..."

# 1. TypeScript type checking
echo "ğŸ”§ Checking TypeScript types..."
npm run test:types || exit 1

# 2. UI tests for layout and responsiveness
echo "ğŸ¨ Running UI tests..."
npm run test:ui || exit 1

# 3. Build tests for all configurations
echo "ğŸ—ï¸ Testing builds..."
npm run test:build || exit 1

# 4. Performance and memory checks
echo "âš¡ Running performance checks..."
npm run test:performance || exit 1

# 5. Comprehensive regression tests
echo "ğŸ§ª Running comprehensive tests..."
npm run test:comprehensive || exit 1

echo "âœ… All pre-commit checks passed!"